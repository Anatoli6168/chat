(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r,c,i,a=n(0),o=n.n(a),s=n(42),l=n.n(s),d=n(2),u=n(3),b=n.p+"static/media/game.5dd88cc1.jpg",j=n(43),x=n(4),g=n(47),f=n.p+"static/media/emodjis.213068da.svg",p=[{from:"BivOld",text:"\u041f\u0440\u0438\u043a\u043e\u043b\u044c\u043d\u043e. \u0432\u0441\u0435 \u0421\u041e\u0421 \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u044b, \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430)))",createdAt:"2021-03-28T14:31:22.684Z",icon:"ada",status:"admin"},{from:"BivOld",text:"\u042f \u0434\u0443\u043c\u0430\u043b, \u0447\u0442\u043e \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043f\u043e\u043b\u043d\u044f\u0442\u0441\u044f \u0440\u0430\u0437\u0432 \u043d-\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f. \u0410 \u0442\u0443\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u043e \u0438\u0433\u0440\u0430 \u0437\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u0430",createdAt:"2021-03-28T14:28:23.684Z",icon:"btc"},{from:"Nigativ",text:"wac \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u0443\u043f\u0438\u0442\u044c",createdAt:"2021-03-28T14:28:24.684Z",icon:"ada",status:"moderator"},{from:"Skylifesky",text:"\u0426\u0435\u043d\u0430 1 wac =0,1$ \u0438 \u0446\u0435\u043d\u0430 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u0441\u044f",createdAt:"2021-03-28T14:28:22.684Z",icon:"btc",status:"admin"},{from:"i",text:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0438\u0434\u0435\u043c \u043d\u0430 \u0413\u0435\u0440\u043c\u0430\u043d\u0438\u044e",createdAt:"2021-03-28T10:21:22.684Z",own:!0}],h=n(1),O=u.a.div(r||(r=Object(d.a)(["\n    width: 100%;\n    min-height: 40px;\n    background: rgba(0,0,0,0.3);\n    display: flex;\n    flex-shrink: 0;\n    align-items: center;\n"]))),m=Object(u.a)(g.a)(c||(c=Object(d.a)(["\n    flex-grow: 1;\n    margin: 6px 0 6px 20px;\n    resize: none;\n    background: none;\n    outline: none;\n    border: none;\n    font-size: 13px;\n    caret-color: white;\n    color: white;\n"]))),v=u.a.img(i||(i=Object(d.a)(["\n    margin: 0 20px;\n    pointer-events: none;\n"])));function w(e){var t=Object(a.useState)(""),n=Object(x.a)(t,2),r=n[0],c=n[1];return Object(h.jsxs)(O,{children:[Object(h.jsx)(m,{value:r,onKeyDown:function(t){if("Enter"===t.key){var n={from:"Anatoliy",text:r};e.socket.current.emit("message",n,(function(t){t?console.error(t):(e.setNewMyMessage(r),c(""))}))}},onChange:function(e){"\n"!==e.currentTarget.value[e.currentTarget.value.length-1]&&c(e.currentTarget.value)},placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435..."}),Object(h.jsx)(v,{src:f,alt:"",onMouseDown:function(e){e.stopPropagation()}})]})}var k,y,S,T,M,A,C,z,H,L,E,B=n(19),D=n.p+"static/media/ada.a4610b49.svg",N=n.p+"static/media/moderator.f0aab420.svg",R=n.p+"static/media/admin.4215bc33.svg",Z={btc:n.p+"static/media/btc.14cd67e5.svg",admin:R,moderator:N,ada:D},I=u.a.div(k||(k=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    margin: 0 0 8px 0;\n"]))),q=u.a.div(y||(y=Object(d.a)(["\n    padding: 11px 12px;\n    background: white;\n    border-radius: 20px 20px 20px 0px;\n    max-width: 60%;\n    font-size: 13px;\n"]))),J=u.a.div(S||(S=Object(d.a)(["\n    color: #999999;\n    margin: 0 0 6px 0;\n    display: flex;\n    align-items: center;\n"]))),P=u.a.div(T||(T=Object(d.a)(["\n    color: green;\n    margin: 0 0 0 6px;\n"]))),W=u.a.div(M||(M=Object(d.a)(["\n    margin: 0 5px;\n"]))),K=u.a.div(A||(A=Object(d.a)(["\n    line-height: 15px;\n    word-break: break-all;\n"]))),X=u.a.div(C||(C=Object(d.a)(["\n    font-size: 12px;\n    color: white;\n    opacity: 0.4;\n    margin: 0 0 0 10px;\n"])));function Y(e){var t=Object(a.useState)(Math.ceil(10*Math.random())),n=Object(x.a)(t,1)[0];return Object(h.jsxs)(I,{id:e.id,children:[Object(h.jsxs)(q,{children:[Object(h.jsxs)(J,{children:[function(){var t=e.icon&&Z[e.icon];if(t)return Object(h.jsx)("img",{src:t,alt:""})}(),Object(h.jsx)(W,{children:e.from}),function(){var t=e.status&&Z[e.status];if(t)return Object(h.jsx)("img",{src:t,alt:""})}(),Object(h.jsx)(P,{children:n})]}),Object(h.jsx)(K,{children:e.text})]}),Object(h.jsxs)(X,{children:[e.createdAt.getHours(),":",e.createdAt.getMinutes()]})]})}var $,F=u.a.div(z||(z=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin: 0 0 8px 0;\n"]))),G=u.a.div(H||(H=Object(d.a)(["\n    padding: 11px 12px;\n    background: #212121;\n    color: white;\n    border-radius: 20px 20px 0px 20px;\n    max-width: 60%;\n    font-size: 13px;\n"]))),Q=u.a.div(L||(L=Object(d.a)(["\n    line-height: 15px;\n    word-break: break-all;\n"]))),U=u.a.div(E||(E=Object(d.a)(["\n    font-size: 12px;\n    color: white;\n    opacity: 0.4;\n    margin: 0 10px 0 0;\n"])));function V(e){return Object(h.jsxs)(F,{children:[Object(h.jsxs)(U,{children:[" ",e.createdAt.getHours(),": ",e.createdAt.getMinutes()," "]}),Object(h.jsx)(G,{children:Object(h.jsx)(Q,{children:e.text})})]})}var _=u.a.div($||($=Object(d.a)(["\n    flex-grow: 1;\n    padding: 8px 10px;\n    overflow: scroll;\n    overflow-x: hidden;\n    &::-webkit-scrollbar {\n        width: 0px;\n        background-color: none;\n    }\n    &::-webkit-scrollbar { //\u0422\u0430\u043a \u0443\u0434\u043e\u0431\u043d\u0435\u0435 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c\n        width: 7px;\n        background-color: none;\n    }\n    &::-webkit-scrollbar-thumb {\n        background: rgba(0,0,0,0.3);\n        border-radius: 3.5px;\n    }\n"])));function ee(e){var t=Object(a.useState)(p),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(x.a)(i,1)[0],s=Object(a.useState)([]),l=Object(x.a)(s,1)[0],d=Object(a.useState)([]),u=Object(x.a)(d,1)[0],b=Object(a.useRef)(null),j=Object(a.useState)(!1),g=Object(x.a)(j,2)[1],f=[r,o,l,u];Object(a.useEffect)((function(){e.socket.current.on("message",(function(e){var t=0;b.current&&(t=b.current.scrollTop+b.current.clientHeight-b.current.scrollHeight+10),c((function(t){return[].concat(Object(B.a)(t),[e])})),t>0&&b.current&&(b.current.scrollTop=b.current.scrollHeight-b.current.clientHeight)}))}),[e.socket]),Object(a.useEffect)((function(){b.current&&(b.current.scrollTop=b.current.scrollHeight-b.current.clientHeight)}),[e.chat]),Object(a.useEffect)((function(){e.newMyMessage.length>0&&(c((function(t){return[].concat(Object(B.a)(t),[{from:"Anatoliy",text:e.newMyMessage,createdAt:(new Date).toISOString(),own:!0}])})),setTimeout((function(){b.current&&(b.current.scrollTop=b.current.scrollHeight-b.current.clientHeight)}),0))}),[e.newMyMessage]);return Object(a.useEffect)((function(){g((function(e){if(e){var t=document.getElementById("8f43cj347f");return t&&b.current&&(b.current.scrollTop=t.offsetTop+32),!1}return e}))}),[r]),Object(a.useEffect)((function(){b.current&&(b.current.scrollTop=b.current.scrollHeight-b.current.clientHeight)}),[]),Object(h.jsx)(_,{ref:b,onScroll:function(e){e.currentTarget.scrollTop||fetch("https://api-23eqo.ondigitalocean.app/api/messages?skip=".concat(r.length,"&limit=",15)).then((function(e){return e.json()})).then((function(e){c((function(t){var n=t.slice(),r=e.slice().reverse();return n.unshift.apply(n,Object(B.a)(r)),n})),g(!0)}))},children:f[e.chat-1].map((function(e,t){return 14===t?Object(h.jsx)(Y,{from:e.from,text:e.text,createdAt:new Date(e.createdAt),icon:e.icon||"btc",status:e.status||"admin",id:"8f43cj347f"},t):e.own?Object(h.jsx)(V,{text:e.text,createdAt:new Date(e.createdAt)},t):Object(h.jsx)(Y,{from:e.from,text:e.text,createdAt:new Date(e.createdAt),icon:e.icon||"btc",status:e.status||"admin"},t)}))})}var te,ne,re,ce,ie,ae,oe,se,le,de,ue,be,je=n(14),xe=n.p+"static/media/arrowSmall.74fb64bb.svg",ge=n.p+"static/media/line.f6f3dbee.svg",fe=n.p+"static/media/vector.29676d8a.svg",pe=u.a.div(te||(te=Object(d.a)(["\n    width: 100%;\n    height: 40px;\n    display: flex;\n    font-size: 13px;\n    background: rgba(0,0,0,0.3);\n    align-items: space-between;\n    flex-shrink: 0;\n"]))),he=u.a.div(ne||(ne=Object(d.a)(["\n    text-transform: uppercase;\n    overflow: hidden;\n    height: 100%;\n    display: flex;\n    flex-shrink: 2;\n    align-items: center;\n    color: #23B838;\n    order: 1;\n    & * {\n        cursor: pointer;\n        margin: 0 7.5px;\n        &:first-child {\n            margin: 0 7.5px 0 15px;\n        }\n        &:last-child {\n            margin: 0 15px 0 7.5px;\n        }\n        &:nth-child(",") {\n            color: white;\n            height: 26px;\n            margin-top: 14px;\n            cursor: default;\n            border-bottom: 2px solid #23B838; \n        }\n    }\n"])),(function(e){return e.select.toString()})),Oe=u.a.img(re||(re=Object(d.a)(["\n    ","\n    width: 12px;\n    margin: 0 0 0 3px;\n    cursor: pointer;\n    transform: rotate(-90deg);\n    order: 2;\n    ","\n"])),(function(e){return e.scroll?"":"display: none;"}),(function(e){return e.position?"order: 1;transform: rotate(90deg);& ~ div {&:first-child {order: 2;}}":""})),me=u.a.div(ce||(ce=Object(d.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    flex-grow: 1;\n    order: 3;\n"]))),ve=u.a.div(ie||(ie=Object(d.a)(["\n    text-transform: uppercase;\n    flex-shrink:0;\n    color: white;\n    align-self: flex-start;\n    margin: 13px 5px 0 5px;\n    border-radius: 7px;\n    box-shadow: 0px 0px 27px 25px rgba(255, 255, 255, 0.2) inset;\n"]))),we=u.a.div(ae||(ae=Object(d.a)(["\n    display: flex;\n    justify-content: center;\n    border-radius: 17px;\n    cursor: pointer;\n    width: 50px;\n    &:hover {\n        background: rgba(255, 255, 255, 0.4);\n    }\n    img {\n        margin: 0 0 0 4px;\n        transform: rotate(","deg);\n    }\n"])),(function(e){return e.activate?"180":"0"})),ke=u.a.div(oe||(oe=Object(d.a)(["\n    display: ",";\n    position: relative;\n"])),(function(e){return e.activate?"block":"none"})),ye=u.a.div(se||(se=Object(d.a)(["\n    padding: 1px 0 1px 5px;\n    border-radius: 7px;\n    cursor: pointer;\n    ","\n    &:hover {\n        background: rgba(255, 255, 255, 0.4);\n    }\n"])),(function(e){return e.activate?"display: none;":""})),Se=u.a.div(le||(le=Object(d.a)(["\n    flex-shrink:0;\n    width: 18px;\n    height: 18px;\n    cursor: pointer;\n    border-radius: 50%;\n    background: rgba(255, 255, 255, 0.2);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    &:hover {\n        background: rgba(255, 255, 255, 0.4);\n    }\n"]))),Te=Object(u.a)(Se)(de||(de=Object(d.a)(["\n    user-select: none;\n    transform: rotate(-45deg);\n    img {\n        pointer-events: none;\n        &:first-child {\n            transform: rotate(45deg);\n        }\n        &:last-child {\n            transform: rotate(-135deg);\n        }\n    }\n"]))),Me=Object(u.a)(Se)(ue||(ue=Object(d.a)(["\n    margin: 0 10px 0 10px;\n    ","\n"])),(function(e){return e.turn?"transform: rotate(90deg);":""}));function Ae(e){var t=Object(a.useState)(!1),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)("ru"),o=Object(x.a)(i,2),s=o[0],l=o[1],d=Object(a.useState)(1),u=Object(x.a)(d,2),b=u[0],j=u[1],g=Object(a.useState)(0),f=Object(x.a)(g,2),p=f[0],O=f[1],m=Object(a.useState)(0),v=Object(x.a)(m,2),w=v[0],k=v[1],y=Object(a.useRef)(null),S=function(e){l(e.currentTarget.innerHTML),c(!1)};return Object(h.jsxs)(pe,{position:!!p,children:[Object(h.jsx)(Oe,{src:xe,alt:"",scroll:!!b,onClick:function(){var e,t;if(0===(null===(e=y.current)||void 0===e?void 0:e.scrollLeft))return y.current.scrollLeft=1e3,void O(1e3);"number"===typeof(null===(t=y.current)||void 0===t?void 0:t.scrollLeft)&&y.current.scrollLeft>0&&(y.current.scrollLeft=0,O(0))},position:!!p}),Object(h.jsxs)(he,{select:e.chat,ref:y,children:[Object(h.jsx)("p",{onClick:function(){return e.setChat(1)},children:"\u041e\u0431\u0449\u0438\u0439"}),Object(h.jsx)("div",{onClick:function(){return e.setChat(2)},children:"\u041a\u043b\u0430\u043d"}),Object(h.jsx)("div",{onClick:function(){return e.setChat(3)},children:"\u0414\u0440\u0443\u0437\u044c\u044f"}),Object(h.jsx)("div",{onClick:function(){return e.setChat(4)},children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})]}),Object(h.jsxs)(me,{children:[Object(h.jsxs)(ve,{children:[Object(h.jsxs)(we,{activate:r,onClick:function(){return c((function(e){return!e}))},children:[s,Object(h.jsx)("img",{src:xe,alt:""})]}),Object(h.jsxs)(ke,{activate:r,children:[Object(h.jsx)(ye,{activate:"ru"===s,onClick:S,children:"ru"}),Object(h.jsx)(ye,{activate:"en"===s,onClick:S,children:"en"}),Object(h.jsx)(ye,{activate:"zho"===s,onClick:S,children:"zho"})]})]}),Object(h.jsxs)(Te,{onMouseDown:function(t){t.stopPropagation(),k(0);var n=t.currentTarget.getBoundingClientRect().x-e.size.width+10,r=e.size.height+t.currentTarget.getBoundingClientRect().y+12;function c(t){var c,i,a,o=null===(c=y.current)||void 0===c?void 0:c.scrollLeft;(null===(i=y.current)||void 0===i?void 0:i.scrollWidth)===(null===(a=y.current)||void 0===a?void 0:a.clientWidth)&&y.current&&(y.current.scrollLeft=1e3,O(0));var s=t.pageX-n,l=r-t.pageY;l<=40||s<170||(e.setSize({height:l,width:s}),j(360>s?1:0),y.current&&(y.current.scrollLeft=0===o?0:1e3))}document.addEventListener("mousemove",c),document.addEventListener("mouseup",(function(){return document.removeEventListener("mousemove",c)}))},children:[Object(h.jsx)("img",{src:fe,alt:"",draggable:!1}),Object(h.jsx)("img",{src:fe,alt:"",draggable:!1})]}),Object(h.jsx)(Me,{onClick:function(){w?(e.setSize((function(e){return Object(je.a)(Object(je.a)({},e),{},{height:w})})),k(0)):(k(e.size.height),e.setSize((function(e){return Object(je.a)(Object(je.a)({},e),{},{height:40})})))},turn:!!w,children:Object(h.jsx)("img",{src:ge,alt:""})})]})]})}var Ce,ze,He=u.a.div.attrs((function(e){return{style:{width:"".concat(e.width.toString(),"px"),height:"".concat(e.height.toString(),"px")}}}))(be||(be=Object(d.a)(["\n    background: rgba(0,0,0,0.5);\n    border-radius: 20px;\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n"]))),Le={width:360,height:400};function Ee(e){var t=Object(a.useState)(Le),n=Object(x.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(1),o=Object(x.a)(i,2),s=o[0],l=o[1],d=Object(a.useState)(""),u=Object(x.a)(d,2),b=u[0],j=u[1];return Object(h.jsxs)(He,{className:e.className,width:r.width,height:r.height,children:[Object(h.jsx)(Ae,{setSize:c,size:r,chat:s,setChat:l}),Object(h.jsx)(ee,{socket:e.socket,newMyMessage:b,chat:s}),Object(h.jsx)(w,{socket:e.socket,setNewMyMessage:j})]})}var Be=u.a.div(Ce||(Ce=Object(d.a)(["\n  width: 100%;\n  height: 100vh;\n  background-image: url(",");\n"])),b),De=Object(u.a)((function(e){var t=Object(a.useRef)(Object(j.io)("wss://api-23eqo.ondigitalocean.app",{transports:["websocket"],upgrade:!1}));return Object(h.jsx)(Ee,{socket:t,className:e.className})}))(ze||(ze=Object(d.a)(["\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n"])));var Ne=function(){return Object(h.jsx)(Be,{children:Object(h.jsx)(De,{})})};n(84);l.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(Ne,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.85a04c9a.chunk.js.map