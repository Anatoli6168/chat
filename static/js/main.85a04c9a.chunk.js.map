{"version":3,"sources":["public/game.jpg","public/emodjis.svg","data.ts","components/Chat/Bottom.tsx","public/ada.svg","public/moderator.svg","public/admin.svg","components/Chat/Message.tsx","public/btc.svg","components/Chat/MyMessage.tsx","components/Chat/Messages.tsx","public/arrowSmall.svg","public/line.svg","public/vector.svg","components/Chat/Top.tsx","components/Chat/Chat.tsx","App.tsx","components/Chat/Socket.tsx","index.tsx"],"names":["startData","from","text","createdAt","icon","status","own","Area","styled","div","Input","TextareaAutosize","Smiles","img","Bottom","props","useState","value","setValue","onKeyDown","event","key","message","socket","current","emit","err","console","error","setNewMyMessage","onChange","currentTarget","length","placeholder","src","emodjis","alt","onMouseDown","stopPropagation","modif","btc","admin","moderator","ada","Container","Head","Level","From","Text","Time","Message","Math","ceil","random","level","id","getHours","getMinutes","MyMessage","Messages","data1","setData1","data2","data3","data4","area","useRef","setScroll","datas","useEffect","on","scroll","scrollTop","clientHeight","scrollHeight","prev","chat","newMyMessage","Date","toISOString","setTimeout","anchor","document","getElementById","offsetTop","ref","onScroll","fetch","then","response","json","data","newData","slice","reverse","unshift","map","item","index","Bar","select","toString","Array","position","Select","SelectButton","activate","Menu","Language","Ellips","Ellips1","Ellips2","turn","Top","selectActivate","setSelectActivate","language","setLanguage","scrollLeft","setScrollLeft","setTurn","bar","handleSelectLanguage","innerHTML","arrowSmall","onClick","setChat","x","getBoundingClientRect","size","width","y","height","resize","scrollWidth","clientWidth","pageX","pageY","setSize","addEventListener","removeEventListener","vector","draggable","line","Bg","attrs","style","initialSize","Chat","className","Game","game","StyledSocket","io","transports","upgrade","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.85a04c9a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/game.5dd88cc1.jpg\";","export default __webpack_public_path__ + \"static/media/emodjis.213068da.svg\";","import { Icon } from \"./components/Chat/Message\";\r\n\r\nexport interface Data {\r\n    from: string,\r\n    text: string,\r\n    createdAt: string,\r\n    icon?: Icon,\r\n    status?: Icon,\r\n    own?: true\r\n}\r\nexport const name ='Anatoliy';\r\n\r\nexport const startData: Data[] = [\r\n    {\r\n        from: 'BivOld',\r\n        text: 'Прикольно. все СОС потрачены, теперь игра закончена)))',\r\n        createdAt: '2021-03-28T14:31:22.684Z',\r\n        icon: 'ada',\r\n        status: 'admin'\r\n    },\r\n    {\r\n        from: 'BivOld',\r\n        text: 'Я думал, что они будут пополнятся разв н-ное время. А тут реально игра закончена',\r\n        createdAt: '2021-03-28T14:28:23.684Z',\r\n        icon: 'btc'\r\n    },\r\n    {\r\n        from: 'Nigativ',\r\n        text: 'wac можно только купить',\r\n        createdAt: '2021-03-28T14:28:24.684Z',\r\n        icon: 'ada',\r\n        status: 'moderator'\r\n    },\r\n    {\r\n        from: 'Skylifesky',\r\n        text: 'Цена 1 wac =0,1$ и цена не изменится',\r\n        createdAt: '2021-03-28T14:28:22.684Z',\r\n        icon: 'btc',\r\n        status: 'admin'\r\n    },\r\n    {\r\n        from: 'i',\r\n        text: 'Сегодня идем на Германию',\r\n        createdAt: '2021-03-28T10:21:22.684Z',\r\n        own: true\r\n    }\r\n]","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport TextareaAutosize from 'react-textarea-autosize';\r\nimport { Socket } from 'socket.io-client';\r\nimport { DefaultEventsMap } from 'socket.io-client/build/typed-events';\r\nimport emodjis from '../../public/emodjis.svg';\r\nimport { name } from '../../data';\r\n\r\n\r\ninterface ButtonProps {\r\n    socket: React.MutableRefObject<Socket<DefaultEventsMap, DefaultEventsMap>>,\r\n    setNewMyMessage: React.Dispatch<React.SetStateAction<string>>\r\n}\r\nconst Area = styled.div`\r\n    width: 100%;\r\n    min-height: 40px;\r\n    background: rgba(0,0,0,0.3);\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    align-items: center;\r\n`;\r\nconst Input = styled(TextareaAutosize)`\r\n    flex-grow: 1;\r\n    margin: 6px 0 6px 20px;\r\n    resize: none;\r\n    background: none;\r\n    outline: none;\r\n    border: none;\r\n    font-size: 13px;\r\n    caret-color: white;\r\n    color: white;\r\n`;\r\nconst Smiles = styled.img`\r\n    margin: 0 20px;\r\n    pointer-events: none;\r\n`;\r\n\r\nexport default function Bottom(props: ButtonProps) {\r\n    const [value, setValue] = useState('');\r\n\r\n\r\n    const handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\r\n        if(event.currentTarget.value[event.currentTarget.value.length - 1] === '\\n') return;\r\n        setValue(event.currentTarget.value);\r\n    };\r\n\r\n    const handleUp = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n        if (event.key === 'Enter') {\r\n            const message = {\r\n                from: name,\r\n                text: value\r\n            };\r\n            props.socket.current.emit(\"message\", message, (err: string | null) => {\r\n                if (err) {\r\n                    console.error(err);\r\n                } else {\r\n                    props.setNewMyMessage(value);\r\n                    setValue('');\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleClick = (event: React.MouseEvent<HTMLImageElement>) => {\r\n        event.stopPropagation();\r\n    };\r\n\r\n    return (\r\n        <Area>\r\n            <Input value={value} onKeyDown={handleUp} onChange={handleChange} placeholder=\"Напишите сообщение...\" />\r\n            <Smiles src={emodjis} alt=\"\" onMouseDown={handleClick}/>\r\n        </Area>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/ada.a4610b49.svg\";","export default __webpack_public_path__ + \"static/media/moderator.f0aab420.svg\";","export default __webpack_public_path__ + \"static/media/admin.4215bc33.svg\";","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ada from '../../public/ada.svg'\r\nimport moderator from '../../public/moderator.svg'\r\nimport admin from '../../public/admin.svg'\r\nimport btc from '../../public/btc.svg'\r\n\r\nconst modif = {\r\n    btc,\r\n    admin,\r\n    moderator,\r\n    ada\r\n}\r\ntype Modif = typeof modif\r\nexport type Icon = keyof Modif\r\n\r\n\r\ninterface MessageProps {\r\n    from: string,\r\n    text: string,\r\n    createdAt: Date,\r\n    icon?: Icon,\r\n    status?: Icon,\r\n    id?: string\r\n}\r\nconst Container = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin: 0 0 8px 0;\r\n`;\r\nconst Area = styled.div`\r\n    padding: 11px 12px;\r\n    background: white;\r\n    border-radius: 20px 20px 20px 0px;\r\n    max-width: 60%;\r\n    font-size: 13px;\r\n`;\r\nconst Head = styled.div`\r\n    color: #999999;\r\n    margin: 0 0 6px 0;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\nconst Level = styled.div`\r\n    color: green;\r\n    margin: 0 0 0 6px;\r\n`;\r\nconst From = styled.div`\r\n    margin: 0 5px;\r\n`;\r\nconst Text = styled.div`\r\n    line-height: 15px;\r\n    word-break: break-all;\r\n`;\r\nconst Time = styled.div`\r\n    font-size: 12px;\r\n    color: white;\r\n    opacity: 0.4;\r\n    margin: 0 0 0 10px;\r\n`;\r\nexport default function Message(props: MessageProps) {\r\n    const [level] = useState(Math.ceil(Math.random() * 10))\r\n\r\n    return (\r\n        <Container id={props.id}>\r\n            <Area>\r\n                <Head>\r\n                    {\r\n                        (function () {\r\n                            const src = props.icon && modif[props.icon];\r\n                            if (src) return (<img src={src} alt=\"\" />)\r\n                        })()\r\n                    }\r\n                    <From>{props.from}</From>\r\n                    {\r\n                        (function () {\r\n                            const src = props.status && modif[props.status];\r\n                            if (src) return (<img src={src} alt=\"\" />)\r\n                        })()\r\n                    }\r\n                    <Level>{level}</Level>\r\n                </Head>\r\n                <Text>{props.text}</Text>\r\n            </Area>\r\n            <Time>{props.createdAt.getHours()}:{props.createdAt.getMinutes()}</Time>\r\n        </Container>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/btc.14cd67e5.svg\";","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\n\r\ninterface MyMessageProps {\r\n    text: string,\r\n    createdAt: Date\r\n}\r\nconst Container = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    margin: 0 0 8px 0;\r\n`;\r\nconst Area = styled.div`\r\n    padding: 11px 12px;\r\n    background: #212121;\r\n    color: white;\r\n    border-radius: 20px 20px 0px 20px;\r\n    max-width: 60%;\r\n    font-size: 13px;\r\n`;\r\nconst Text = styled.div`\r\n    line-height: 15px;\r\n    word-break: break-all;\r\n`;\r\nconst Time = styled.div`\r\n    font-size: 12px;\r\n    color: white;\r\n    opacity: 0.4;\r\n    margin: 0 10px 0 0;\r\n`;\r\nexport default function MyMessage(props: MyMessageProps) {\r\n    return (\r\n        <Container>\r\n            <Time> {props.createdAt.getHours()}: {props.createdAt.getMinutes()} </Time>\r\n            <Area>\r\n                <Text>{props.text}</Text>\r\n            </Area>\r\n        </Container>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { startData } from '../../data';\r\nimport Message from './Message';\r\nimport MyMessage from './MyMessage';\r\nimport { Data } from '../../data';\r\nimport { Socket } from 'socket.io-client';\r\nimport { DefaultEventsMap } from 'socket.io-client/build/typed-events';\r\n\r\n\r\ninterface MessageProps {\r\n    socket: React.MutableRefObject<Socket<DefaultEventsMap, DefaultEventsMap>>,\r\n    newMyMessage: string,\r\n    chat: number\r\n}\r\nconst Area = styled.div`\r\n    flex-grow: 1;\r\n    padding: 8px 10px;\r\n    overflow: scroll;\r\n    overflow-x: hidden;\r\n    &::-webkit-scrollbar {\r\n        width: 0px;\r\n        background-color: none;\r\n    }\r\n    &::-webkit-scrollbar { //Так удобнее тестировать\r\n        width: 7px;\r\n        background-color: none;\r\n    }\r\n    &::-webkit-scrollbar-thumb {\r\n        background: rgba(0,0,0,0.3);\r\n        border-radius: 3.5px;\r\n    }\r\n`;\r\n\r\nexport default function Messages(props: MessageProps) {\r\n    const [data1, setData1] = useState(startData);\r\n    const [data2] = useState<Data[]>([]);\r\n    const [data3] = useState<Data[]>([]);\r\n    const [data4] = useState<Data[]>([]);\r\n    const area = useRef<HTMLDivElement>(null);\r\n    const [, setScroll] = useState(false);\r\n\r\n    const datas = [\r\n        data1,\r\n        data2,\r\n        data3,\r\n        data4\r\n    ]\r\n    useEffect(() => {\r\n        props.socket.current.on(\"message\", (message: Data) => {\r\n            let scroll = 0;\r\n            if (area.current) scroll = area.current.scrollTop + area.current.clientHeight - area.current.scrollHeight + 10;\r\n            setData1(prev => ([...prev, message]));\r\n            if (scroll > 0 && area.current) area.current.scrollTop = area.current.scrollHeight - area.current.clientHeight;\r\n        });\r\n    }, [props.socket]);\r\n\r\n    useEffect(() => {\r\n        if (area.current) area.current.scrollTop = area.current.scrollHeight - area.current.clientHeight;\r\n    }, [props.chat]);\r\n\r\n    useEffect(() => {\r\n        if (props.newMyMessage.length > 0) {\r\n            setData1(prev => [...prev, {\r\n                from: 'Anatoliy',\r\n                text: props.newMyMessage,\r\n                createdAt: (new Date()).toISOString(),\r\n                own: true\r\n            }])\r\n            setTimeout(() => { if (area.current) area.current.scrollTop = area.current.scrollHeight - area.current.clientHeight; }, 0);\r\n        }\r\n    }, [props.newMyMessage])\r\n\r\n    const handleScroll = (event: React.UIEvent<HTMLElement>) => {\r\n        if (!event.currentTarget.scrollTop) fetch(`https://api-23eqo.ondigitalocean.app/api/messages?skip=${data1.length}&limit=${15}`)\r\n            .then((response) => {\r\n                return response.json();\r\n            })\r\n            .then((data: Data[]) => {\r\n                setData1(prev => {\r\n                    const newData = prev.slice();\r\n                    const reverse = data.slice().reverse();\r\n                    newData.unshift(...reverse);\r\n                    return newData;\r\n                })\r\n                setScroll(true);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setScroll(prev => {\r\n            if (prev) {\r\n                const anchor = document.getElementById('8f43cj347f');\r\n                if (anchor && area.current) {\r\n                    area.current.scrollTop = anchor.offsetTop + 32;\r\n                }\r\n                return false;\r\n            }\r\n            return prev;\r\n        })\r\n    }, [data1])\r\n\r\n    useEffect(() => {\r\n        if (area.current) area.current.scrollTop = area.current.scrollHeight - area.current.clientHeight;\r\n    }, [])\r\n\r\n    return (\r\n        <Area ref={area} onScroll={handleScroll}>\r\n            {\r\n                datas[props.chat - 1].map((item, index) => {\r\n                    if (index === 14) return (<Message from={item.from} text={item.text} createdAt={new Date(item.createdAt)} icon={item.icon || 'btc'} status={item.status || 'admin'} key={index} id=\"8f43cj347f\" />)\r\n                    if (!item.own) return (<Message from={item.from} text={item.text} createdAt={new Date(item.createdAt)} icon={item.icon || 'btc'} status={item.status || 'admin'} key={index} />)\r\n                    else return <MyMessage text={item.text} createdAt={new Date(item.createdAt)} key={index} />;\r\n                })\r\n            }\r\n\r\n        </Area>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/arrowSmall.74fb64bb.svg\";","export default __webpack_public_path__ + \"static/media/line.f6f3dbee.svg\";","export default __webpack_public_path__ + \"static/media/vector.29676d8a.svg\";","import React, { useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport arrowSmall from '../../public/arrowSmall.svg';\r\nimport line from '../../public/line.svg';\r\nimport vector from '../../public/vector.svg';\r\n\r\n\r\ninterface TopProps {\r\n    size: {\r\n        width: number;\r\n        height: number;\r\n    },\r\n    setSize: React.Dispatch<React.SetStateAction<{\r\n        width: number;\r\n        height: number;\r\n    }>>,\r\n    setChat: React.Dispatch<React.SetStateAction<number>>,\r\n    chat: number\r\n}\r\ninterface BarProps {\r\n    select: number\r\n}\r\ninterface MenuProps {\r\n    activate: boolean\r\n}\r\ninterface ArrayProps {\r\n    scroll: boolean,\r\n    position: boolean\r\n}\r\ninterface AreaProps {\r\n    position: boolean\r\n}\r\ninterface Ellips2Props {\r\n    turn: boolean\r\n}\r\n\r\nconst Area = styled.div<AreaProps>`\r\n    width: 100%;\r\n    height: 40px;\r\n    display: flex;\r\n    font-size: 13px;\r\n    background: rgba(0,0,0,0.3);\r\n    align-items: space-between;\r\n    flex-shrink: 0;\r\n`;\r\nconst Bar = styled.div<BarProps>`\r\n    text-transform: uppercase;\r\n    overflow: hidden;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-shrink: 2;\r\n    align-items: center;\r\n    color: #23B838;\r\n    order: 1;\r\n    & * {\r\n        cursor: pointer;\r\n        margin: 0 7.5px;\r\n        &:first-child {\r\n            margin: 0 7.5px 0 15px;\r\n        }\r\n        &:last-child {\r\n            margin: 0 15px 0 7.5px;\r\n        }\r\n        &:nth-child(${props => props.select.toString()}) {\r\n            color: white;\r\n            height: 26px;\r\n            margin-top: 14px;\r\n            cursor: default;\r\n            border-bottom: 2px solid #23B838; \r\n        }\r\n    }\r\n`;\r\nconst Array = styled.img<ArrayProps>`\r\n    ${props => props.scroll ? '' : 'display: none;'}\r\n    width: 12px;\r\n    margin: 0 0 0 3px;\r\n    cursor: pointer;\r\n    transform: rotate(-90deg);\r\n    order: 2;\r\n    ${props => props.position ? 'order: 1;transform: rotate(90deg);& ~ div {&:first-child {order: 2;}}' : ''}\r\n`;\r\nconst Container = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: flex-end;\r\n    flex-grow: 1;\r\n    order: 3;\r\n`;\r\nconst Select = styled.div`\r\n    text-transform: uppercase;\r\n    flex-shrink:0;\r\n    color: white;\r\n    align-self: flex-start;\r\n    margin: 13px 5px 0 5px;\r\n    border-radius: 7px;\r\n    box-shadow: 0px 0px 27px 25px rgba(255, 255, 255, 0.2) inset;\r\n`;\r\nconst SelectButton = styled.div<MenuProps>`\r\n    display: flex;\r\n    justify-content: center;\r\n    border-radius: 17px;\r\n    cursor: pointer;\r\n    width: 50px;\r\n    &:hover {\r\n        background: rgba(255, 255, 255, 0.4);\r\n    }\r\n    img {\r\n        margin: 0 0 0 4px;\r\n        transform: rotate(${props => props.activate ? '180' : '0'}deg);\r\n    }\r\n`;\r\nconst Menu = styled.div<MenuProps>`\r\n    display: ${props => props.activate ? \"block\" : \"none\"};\r\n    position: relative;\r\n`;\r\nconst Language = styled.div<MenuProps>`\r\n    padding: 1px 0 1px 5px;\r\n    border-radius: 7px;\r\n    cursor: pointer;\r\n    ${props => props.activate ? 'display: none;' : ''}\r\n    &:hover {\r\n        background: rgba(255, 255, 255, 0.4);\r\n    }\r\n`;\r\nconst Ellips = styled.div`\r\n    flex-shrink:0;\r\n    width: 18px;\r\n    height: 18px;\r\n    cursor: pointer;\r\n    border-radius: 50%;\r\n    background: rgba(255, 255, 255, 0.2);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    &:hover {\r\n        background: rgba(255, 255, 255, 0.4);\r\n    }\r\n`;\r\nconst Ellips1 = styled(Ellips)`\r\n    user-select: none;\r\n    transform: rotate(-45deg);\r\n    img {\r\n        pointer-events: none;\r\n        &:first-child {\r\n            transform: rotate(45deg);\r\n        }\r\n        &:last-child {\r\n            transform: rotate(-135deg);\r\n        }\r\n    }\r\n`;\r\nconst Ellips2 = styled(Ellips) <Ellips2Props>`\r\n    margin: 0 10px 0 10px;\r\n    ${props => props.turn ? 'transform: rotate(90deg);' : ''}\r\n`;\r\n\r\nexport default function Top(props: TopProps) {\r\n    const [selectActivate, setSelectActivate] = useState(false);\r\n    const [language, setLanguage] = useState('ru');\r\n    const [scroll, setScroll] = useState(1);\r\n    const [scrollLeft, setScrollLeft] = useState(0);\r\n    const [turn, setTurn] = useState(0);\r\n\r\n    const bar = useRef<HTMLDivElement>(null);\r\n\r\n    const handleSelectLanguage = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        setLanguage(event.currentTarget.innerHTML);\r\n        setSelectActivate(false);\r\n    };\r\n\r\n    const handleResize = (event: React.MouseEvent<HTMLDivElement>) => {\r\n        event.stopPropagation();\r\n        setTurn(0);\r\n        const x = event.currentTarget.getBoundingClientRect().x - props.size.width + 10;\r\n        const y = props.size.height + event.currentTarget.getBoundingClientRect().y + 12;\r\n        function resize(event: MouseEvent) {\r\n            const scroll = bar.current?.scrollLeft;\r\n            if (bar.current?.scrollWidth === bar.current?.clientWidth && bar.current) {\r\n                bar.current.scrollLeft = 1000;\r\n                setScrollLeft(0);\r\n            }\r\n            const width = event.pageX - x;\r\n            const height = y - event.pageY;\r\n            if (height <= 40) return;\r\n            if (width < 170) return;\r\n            props.setSize({ height, width });\r\n            if (360 > width) setScroll(1)\r\n            else setScroll(0)\r\n            if (bar.current) {\r\n                if (scroll === 0) bar.current.scrollLeft = 0;\r\n                else bar.current.scrollLeft = 1000;\r\n            }\r\n        }\r\n        document.addEventListener('mousemove', resize);\r\n        document.addEventListener('mouseup', () => document.removeEventListener('mousemove', resize));\r\n    };\r\n\r\n\r\n    const handleTurn = () => {\r\n        if (!turn) {\r\n            setTurn(props.size.height);\r\n            props.setSize(prev => ({ ...prev, height: 40 }))\r\n        } else {\r\n            props.setSize(prev => ({ ...prev, height: turn }));\r\n            setTurn(0);\r\n        }\r\n    }\r\n    const handleScroll = () => {\r\n        if (bar.current?.scrollLeft === 0) {\r\n            bar.current.scrollLeft = 1000;\r\n            setScrollLeft(1000);\r\n            return;\r\n        }\r\n        if (typeof bar.current?.scrollLeft === 'number' && bar.current.scrollLeft > 0) {\r\n            bar.current.scrollLeft = 0;\r\n            setScrollLeft(0);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Area position={!!scrollLeft}>\r\n            <Array src={arrowSmall} alt=\"\" scroll={!!scroll} onClick={handleScroll} position={!!scrollLeft} />\r\n            <Bar select={props.chat} ref={bar}>\r\n                <p onClick={() => props.setChat(1)}>Общий</p>\r\n                <div onClick={() => props.setChat(2)}>Клан</div>\r\n                <div onClick={() => props.setChat(3)}>Друзья</div>\r\n                <div onClick={() => props.setChat(4)}>Новости</div>\r\n            </Bar>\r\n            <Container>\r\n                <Select>\r\n                    <SelectButton activate={selectActivate} onClick={() => setSelectActivate(prev => !prev)}>\r\n                        {language}\r\n                        <img src={arrowSmall} alt=\"\" />\r\n                    </SelectButton>\r\n                    <Menu activate={selectActivate}>\r\n                        <Language activate={language === \"ru\"} onClick={handleSelectLanguage}>ru</Language>\r\n                        <Language activate={language === \"en\"} onClick={handleSelectLanguage}>en</Language>\r\n                        <Language activate={language === \"zho\"} onClick={handleSelectLanguage}>zho</Language>\r\n                    </Menu>\r\n                </Select>\r\n                <Ellips1 onMouseDown={handleResize}>\r\n                    <img src={vector} alt=\"\" draggable={false} />\r\n                    <img src={vector} alt=\"\" draggable={false} />\r\n                </Ellips1>\r\n                <Ellips2 onClick={handleTurn} turn={!!turn}>\r\n                    <img src={line} alt=\"\" />\r\n                </Ellips2>\r\n            </Container>\r\n        </Area>\r\n    );\r\n}","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Socket } from 'socket.io-client';\r\nimport { DefaultEventsMap } from 'socket.io-client/build/typed-events';\r\nimport Bottom from './Bottom';\r\nimport Messages from './Messages';\r\nimport Top from './Top';\r\n\r\n\r\ninterface ChatProps {\r\n  className?: string,\r\n  socket: React.MutableRefObject<Socket<DefaultEventsMap, DefaultEventsMap>>\r\n}\r\ninterface BgProps {\r\n  width: number,\r\n  height: number\r\n}\r\n\r\nconst Bg = styled.div.attrs((props: BgProps): any => ({\r\n  style: {\r\n    width: `${props.width.toString()}px`,\r\n    height: `${props.height.toString()}px`\r\n  }\r\n}))`\r\n    background: rgba(0,0,0,0.5);\r\n    border-radius: 20px;\r\n    overflow: hidden;\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst initialSize = {\r\n  width: 360,\r\n  height: 400\r\n}\r\n\r\nexport default function Chat(props: ChatProps) {\r\n  const [size, setSize] = useState(initialSize);\r\n  const [chat, setChat] = useState(1);\r\n  const [newMyMessage, setNewMyMessage] = useState('');\r\n\r\n\r\n  return (\r\n    <Bg className={props.className} width={size.width} height={size.height}>\r\n      <Top setSize={setSize} size={size} chat={chat} setChat={setChat} />\r\n      <Messages socket={props.socket} newMyMessage={newMyMessage} chat={chat}/>\r\n      <Bottom socket={props.socket} setNewMyMessage={setNewMyMessage} />\r\n    </Bg>\r\n  );\r\n}\r\n\r\n","import React from 'react';\nimport styled from 'styled-components';\nimport game from './public/game.jpg';\nimport Socket from './components/Chat/Socket';\n\n\nconst Game = styled.div`\n  width: 100%;\n  height: 100vh;\n  background-image: url(${game});\n`;\nconst StyledSocket = styled(Socket)`\n  position: absolute;\n  bottom: 20px;\n  left: 20px;\n`;\n\nfunction App() {\n\n\n  return (\n    <Game>\n      <StyledSocket />\n    </Game>\n  );\n}\n\nexport default App;\n","import React, { useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\nimport Chat from './Chat';\r\n\r\n\r\ninterface SocketProps {\r\n    className?: string\r\n}\r\nexport default function Socket(props: SocketProps) {\r\n\r\n    const socket = useRef(io(\"wss://api-23eqo.ondigitalocean.app\", {\r\n        transports: [\"websocket\"],\r\n        upgrade: false,\r\n    }));\r\n\r\n    return (\r\n        <Chat socket={socket} className={props.className}/>\r\n    )\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}